<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Fonctionnement du contrôle concurrentiel</title><meta name="Language" content="fr-fr" /><meta name="System.Keywords" content="simultanéité" /><meta name="Microsoft.Help.Id" content="98b7dabe-9b12-4e1d-adeb-e5b5cb0c96f3" /><meta name="Description" content="Le contrôle concurrentiel fait référence aux différentes techniques utilisées pour conserver l'intégrité de la base de données lorsque plusieurs utilisateurs mettent à jour des lignes en même temps." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Fonctionnement du contrôle concurrentiel</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Le contrôle concurrentiel fait référence aux différentes techniques utilisées pour conserver l'intégrité de la base de données lorsque plusieurs utilisateurs mettent à jour des lignes en même temps. Une concurrence incorrecte peut entraîner des problèmes tels que des lectures erronées, des lectures fantômes et des lectures non reproductibles. Le Pilote JDBC Microsoft pour SQL Server fournit des interfaces pour toutes les techniques de concurrence utilisées par SQL Server pour résoudre ces problèmes. </p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Pour plus d'informations sur l'accès simultané SQL Server, consultez « Gestion de l'accès concurrentiel aux données » dans la documentation en ligne de SQL Server.</p></div></div><h1 class="heading">Notes</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Le pilote JDBC prend en charge les types d'accès simultanés suivants :</p><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p>Type d'accès simultané</p></th><th><p>Caractéristiques</p></th><th><p>Verrous de lignes</p></th><th><p>Description</p></th></tr><tr><td><p>CONCUR_READ_ONLY</p></td><td><p>Lecture seule</p></td><td><p>Non</p></td><td><p>Les mises à jour effectuées à l'aide du curseur ne sont pas autorisées et aucun verrou n'est maintenu sur les lignes constituant le jeu de résultats.</p></td></tr><tr><td><p>CONCUR_UPDATABLE</p></td><td><p>Lecture/écriture optimistes</p></td><td><p>Non</p></td><td><p>La base de données suppose que la contention de ligne est improbable, mais possible. L'intégrité de ligne est vérifiée avec une comparaison d'horodateurs.</p></td></tr><tr><td><p>CONCUR_SS_SCROLL_LOCKS</p></td><td><p>Lecture/écriture pessimistes</p></td><td><p>Oui</p></td><td><p>La base de données suppose que la contention de ligne est probable. L'intégrité de ligne est garantie avec le verrouillage de ligne.</p></td></tr><tr><td><p>CONCUR_SS_OPTIMISTIC_CC</p></td><td><p>Lecture/écriture optimistes</p></td><td><p>Non</p></td><td><p>La base de données suppose que la contention de ligne est improbable, mais possible. L'intégrité de ligne est vérifiée avec une comparaison d'horodateurs. </p><p>Pour SQL Server 2005 et les versions ultérieures, le serveur remplace ceci par CONCUR_SS_OPTIMISTIC_CCVAL, si la table ne contient pas de colonne timestamp.</p><p>Pour SQL Server 2000, si la table sous-jacente possède une colonne timestamp, OPTIMISTIC WITH ROW VERSIONING est utilisé même si OPTIMISTIC WITH VALUES est spécifié. Si OPTIMISTIC WITH ROW VERSIONING est spécifié et que la table ne possède pas d'horodateurs, OPTIMISTIC WITH VALUES est utilisé.</p></td></tr><tr><td><p>CONCUR_SS_OPTIMISTIC_CCVAL</p></td><td><p>Lecture/écriture optimistes</p></td><td><p>Non</p></td><td><p>La base de données suppose que la contention de ligne est improbable, mais possible. L'intégrité de ligne est vérifiée avec une comparaison des données brutes.</p></td></tr></table></div></div><h1 class="heading">Jeux de résultats qui ne peuvent pas être mis à jour</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>Un jeu de résultats pouvant être mis à jour est un jeu de résultats dans lequel des lignes peuvent être insérées, mises à jour et supprimées. Dans les cas suivants, SQL Server ne peut pas créer de curseur pouvant être mis à jour. L'exception générée est « Le jeu de résultat ne peut pas être mis à jour ». </p><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p>Cause</p></th><th><p>Description</p></th><th><p>Solution</p></th></tr><tr><td><p>L'instruction n'est pas créée à l'aide de la syntaxe JDBC 2.0 (ou ultérieure)</p></td><td><p>JDBC 2.0 introduit de nouvelles méthodes pour créer des instructions. Si la syntaxe JDBC 1.0 est utilisée, le jeu de résultats est par défaut en lecture seule.</p></td><td><p>Spécifiez le type de jeu de résultats et l'accès simultané lors de la création de l'instruction.</p></td></tr><tr><td><p>L'instruction est créée à l'aide de TYPE_SCROLL_INSENSITIVE</p></td><td><p>SQL Server crée un curseur instantané statique. Celui-ci est déconnecté des lignes de table sous-jacentes afin d'aider à protéger le curseur contre les mises à jour de ligne par d'autres utilisateurs.</p></td><td><p>Utilisez TYPE_SCROLL_SENSITIVE, TYPE_SS_SCROLL_KEYSET, TYPE_SS_SCROLL_DYNAMIC ou TYPE_FORWARD_ONLY avec CONCUR_UPDATABLE pour éviter de créer un curseur statique.</p></td></tr><tr><td><p>Le mode Création de table n'autorise pas la présence d'un curseur KEYSET ou DYNAMIC </p></td><td><p>La table sous-jacente n'a pas de clés uniques pour permettre à SQL Server d'identifier une ligne de manière unique.</p></td><td><p>Ajoutez des clés uniques à la table afin de fournir une identification unique de chaque ligne.</p></td></tr></table></div></div><span id="seeAlsoSpan"><h1 class="heading">Voir aussi</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="9ed5ad41-22e0-4e4a-8a79-10512db60d50.htm">Gestion de jeux de résultats avec le pilote JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Envoyez vos <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dMerci pour vos commentaires qui permettent aux équipes chargées de rédiger la documentation développeur d\'en améliorer la qualité. Pendant la révision de vos commentaires, il est possible que nous vous contactions par courrier électronique afin de vous demander des éclaircissements ou d\'autres commentaires sur la solution envisagée. Nous n\'utilisons pas votre adresse de messagerie dans un autre but et nous la supprimons une fois notre révision terminée.%0\APour plus d\'informations sur les politiques de confidentialité de Microsoft, consultez http://privacy.microsoft.com/fr-fr/default.aspx.%0\A%0\d','Commentaires client.');">commentaires</a> sur cette rubrique à Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Tous droits réservés.</a></p></span></div></div></body></html>