<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Création de l'URL de connexion</title><meta name="Language" content="fr-fr" /><meta name="System.Keywords" content="URL de connexion" /><meta name="Microsoft.Help.Id" content="44996746-d373-4f59-9863-a8a20bb8024a" /><meta name="Description" content="La forme générale d'une URL de connexion est" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Création de l'URL de connexion</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>La forme générale d'une URL de connexion est</p><p><span class="code">jdbc:sqlserver://[serverName[\instanceName][:portNumber]][;property=value[;property=value]]</span></p><p>où : </p><ul><li><p><span class="label">jdbc:sqlserver://</span> (obligatoire) constitue le sous-protocole et sa constante. </p></li><li><p><span class="label">serverName</span> (facultatif) correspond à l'adresse du serveur auquel se connecter. Il peut s'agir d'une adresse DNS ou IP, de localhost ou de 127.0.0.1 pour l'ordinateur local. S'il n'est pas spécifié dans l'URL de connexion, le nom du serveur doit être spécifié dans la collection de propriétés.</p></li><li><p><span class="label">instanceName</span> (facultatif) est l'instance à connecter à serverName. Si cette valeur n'est pas spécifiée, une connexion à l'instance par défaut est établie.</p></li><li><p><span class="label">portNumber</span> (facultatif) est le port à connecter à serverName. La valeur par défaut est 1433. Pour l'utiliser comme valeur par défaut, vous ne devez pas spécifier le port, ni le signe « : » qui précède, dans l'URL.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Pour des performances de connexion optimales, vous devez définir la valeur de portNumber lors de la connexion à une instance nommée. Cela permet d'éviter une boucle avec le serveur pour déterminer le numéro du port. Si un portNumber et un instanceName sont utilisés, le portNumber aura la priorité et l'instanceName sera ignoré.</p></div></li><li><p><span class="label">property</span> (facultatif) indique une ou plusieurs propriétés de connexion. Pour plus d'informations, consultez <span sdata="link"><a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Définition des propriétés de connexion</a></span>. Vous pouvez spécifier n'importe quelle propriété de la liste. Les propriétés ne peuvent être séparées que par des points-virgules (« ; ») et ne peuvent pas être dupliquées. </p></li></ul><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Pour des raisons de sécurité, il convient d'éviter de créer les URL de connexion en se basant sur des entrées utilisateur. Il est préférable de spécifier uniquement le nom du serveur et le pilote dans l'URL. Pour les valeurs de nom d'utilisateur et de mot de passe, utilisez des collections de propriétés de connexion. Pour plus d'informations sur la sécurité de vos applications JDBC, consultez <span sdata="link"><a href="90724ec6-a9cb-43ef-903e-793f89410bc0.htm">Sécurisation des applications de pilote JDBC</a></span>.</p></div></div><h1 class="heading">Exemples de connexion</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Connectez-vous à la base de données par défaut sur l'ordinateur local à l'aide d'un nom d'utilisateur et d'un mot de passe :</p><p><span class="code">jdbc:sqlserver://localhost;user=MyUserName;password=*****;</span></p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Bien que l'exemple précédent utilise un nom d'utilisateur et un mot de passe dans la chaîne de connexion, si vous exécutez votre application sur un système d'exploitation Windows, vous devez utiliser une sécurité intégrée, pour mieux sécuriser. Pour plus d'informations, consultez la section <a href="#Connectingintegrated">Connexion avec une authentification intégrée</a> plus loin dans cette rubrique.</p></div><p>Connexion à la base de données par défaut sur l'ordinateur local à l'aide d'une authentification intégrée :</p><p><span class="code">jdbc:sqlserver://localhost;integratedSecurity=true;</span></p><p>Connexion à une base de données nommée sur un serveur distant :</p><p><span class="code">jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;</span></p><p>Connexion au port par défaut du serveur distant :</p><p><span class="code">jdbc:sqlserver://localhost:1433;databaseName=AdventureWorks;integratedSecurity=true;</span></p><p>Connexion en spécifiant un nom d'application personnalisé :</p><p><span class="code">jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;applicationName=MyApp;</span></p></div><h1 class="heading">Instances SQL Server nommées et multiples</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>SQL Server permet d'installer plusieurs instances de bases de données par serveur. Chaque instance est identifiée par un nom spécifique. Pour établir une connexion avec une instance nommée de SQL Server, vous pouvez soit spécifier le numéro de port de l'instance nommée (recommandé), soit spécifier le nom d'instance comme propriété d'URL JDBC ou propriété <span class="label">datasource</span>. Si aucune propriété de nom d'instance ou de numéro de port n'est spécifiée, une connexion à l'instance par défaut est établie. Consultez les exemples suivants :</p><p>Pour utiliser un numéro de port, procédez comme suit :</p><p><span class="code">jdbc:sqlserver://localhost:1433;integratedSecurity=true;&lt;more properties as required&gt;;</span></p><p>Pour utiliser une propriété d'URL JDBC, procédez comme suit :</p><p><span class="code">jdbc:sqlserver://localhost;instanceName=instance1;integratedSecurity=true;&lt;more properties as required&gt;;</span></p></div><h1 class="heading">Échappement de valeurs dans l'URL de connexion</h1><div id="sectionSection2" class="section" name="collapseableSection" style=""><p>Il se peut que vous deviez procéder à l'échappement de certaines parties des valeurs d'URL de connexion en raison de l'inclusion de caractères spéciaux tels que des espaces, des points-virgules ou des points d'interrogation. Le pilote JDBC prend en charge l'échappement de ces caractères s'ils sont placés entre accolades. Par exemple, {;} échappe un point-virgule.</p><p>Les valeurs d'échappement peuvent contenir des caractères spéciaux (« = », « ; », « [] » ou un espace) mais ne peuvent pas contenir d'accolades. Les valeurs qui doivent être échappées et qui contiennent des accolades doivent être ajoutées à une collection de propriétés.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Un espace vide entre les accolades est un littéral qui n'est pas supprimé.</p></div></div><a name="Connectingintegrated"> </a><h1 class="heading">Connexion avec une authentification intégrée</h1><div id="sectionSection3" class="section" name="collapseableSection" style=""><p>Consultez <span sdata="link"><a href="687802dc-042a-4363-89aa-741685d165b3.htm">Utilisation de l'authentification intégrée Kerberos pour se connecter à SQL Server</a></span> pour lire une description de la fonctionnalité ajoutée au Pilote JDBC Microsoft pour SQL Server permettant à une application de se connecter à une base de données à l'aide de l'authentification intégrée.</p><p>Le pilote JDBC prend en charge l'utilisation d'une authentification intégrée de type 2 sur les systèmes d'exploitation Windows via la propriété de chaîne de connexion integratedSecurity. Pour utiliser l'authentification intégrée, copiez le fichier sqljdbc_auth.dll dans un répertoire sur le chemin du système Windows de l'ordinateur sur lequel le pilote JDBC est installé. </p><p>Les fichiers sqljdbc_auth.dll sont installés à l'emplacement suivant :</p><p>&lt;<span class="placeholder">installation directory</span>&gt;\sqljdbc_&lt;<span class="placeholder">version</span>&gt;\&lt;<span class="placeholder">language</span>&gt;\auth\</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Si vous exécutez une machine virtuelle Java (JVM) 32 bits, utilisez le fichier sqljdbc_auth.dll dans le dossier x86, même si la version du système d'exploitation est x64. Si vous exécutez une machine virtuelle Java (JVM) 64 bits sur un processeur x64, utilisez le fichier sqljdbc_auth.dll dans le dossier x64.</p></div><p>Vous pouvez également définir la propriété système java.libary.path afin de spécifier le répertoire du fichier sqljdbc_auth.dll. Par exemple, si le pilote JDBC est installé dans le répertoire par défaut, vous pouvez spécifier l'emplacement de la DLL à l'aide de l'argument de machine virtuelle suivant lors du démarrage de l'application Java : </p><p><span class="code">-Djava.library.path=C:\Microsoft JDBC Driver 4.0 for SQL Server\sqljdbc_&lt;version&gt;\enu\auth\x86</span></p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Le pilote JDBC ne prend pas en charge l'authentification intégrée lorsqu'il s'exécute sur des systèmes d'exploitation non Windows. Le pilote n'offre pas non plus de fonctionnalités visant à fournir des informations d'authentification Windows, par exemple le nom d'utilisateur et le mot de passe, lors de la connexion à SQL Server à partir de systèmes d'exploitation non Windows. Dans ces cas-là, les applications doivent utiliser l'authentification SQL Server à la place.</p></div></div><h1 class="heading">Connexion à l'aide d'adresses IPv6</h1><div id="sectionSection4" class="section" name="collapseableSection" style=""><p>Le pilote JDBC prend en charge l'utilisation d'adresses IPv6 avec la collection de propriétés de connexion et avec la propriété de chaîne de connexion serverName. La valeur serverName initiale, telle que jdbc : <span class="placeholder">sqlserver</span>://<span class="placeholder">serverName</span>, n'est pas prise en charge pour les adresses IPv6 figurant dans des chaînes de connexion. L'utilisation d'un nom au lieu d'une adresse IPv6 brute pour <span class="placeholder">serverName</span> fonctionne dans tous les cas dans la connexion. Les exemples suivants fournissent des informations complémentaires.</p><p><span class="label">Pour utiliser la propriété serverName</span></p><p><span class="code">jdbc:sqlserver://;serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1;integratedSecurity=true;</span></p><p><span class="label">Pour utiliser la collection de propriétés</span></p><p><span class="code">Properties pro = new Properties();</span></p><p><span class="code">pro.setProperty("serverName", "serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1");</span></p><p><span class="code">Connection con = DriverManager.getConnection("jdbc:sqlserver://;integratedSecurity=true;", pro);</span></p></div><span id="seeAlsoSpan"><h1 class="heading">Voir aussi</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="94bcfbe3-f00e-4774-bda8-bb7577518fec.htm">Connexion à SQL Server à l'aide du pilote JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Envoyez vos <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dMerci pour vos commentaires qui permettent aux équipes chargées de rédiger la documentation développeur d\'en améliorer la qualité. Pendant la révision de vos commentaires, il est possible que nous vous contactions par courrier électronique afin de vous demander des éclaircissements ou d\'autres commentaires sur la solution envisagée. Nous n\'utilisons pas votre adresse de messagerie dans un autre but et nous la supprimons une fois notre révision terminée.%0\APour plus d\'informations sur les politiques de confidentialité de Microsoft, consultez http://privacy.microsoft.com/fr-fr/default.aspx.%0\A%0\d','Commentaires client.');">commentaires</a> sur cette rubrique à Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Tous droits réservés.</a></p></span></div></div></body></html>