<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>getClientConnectionID, méthode (SQLServerConnection)</title><meta name="Language" content="fr-fr" /><meta name="Microsoft.Help.Id" content="bee39c11-733a-461f-92cc-33efcb2af87d" /><meta name="Description" content="Obtient l'ID de la tentative de connexion la plus récente, que cette tentative ait réussi ou non." /><meta name="Microsoft.Help.ContentType" content="Reference" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">getClientConnectionID, méthode (SQLServerConnection)</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Obtient l'ID de la tentative de connexion la plus récente, que cette tentative ait réussi ou non.</p></div><h1 class="heading">Syntaxe</h1><div id="syntaxSection" class="section"><div class="sampleCode"><span codeLanguage="VisualBasic"><pre>public Java.util.UUID SQLServerConnection.getClientConnectionID();</pre></span></div></div><h1 class="heading">Valeur de retour</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>GUID de 16 octets représentant l'ID de connexion de la dernière tentative de connexion. Ou NULL, s'il y a un échec après le lancement de la demande de connexion et après la négociation de préconnexion.</p></div><h1 class="heading">Exceptions</h1><div id="ddueExceptionsSection" class="section" name="collapseableSection" style=""><p><a href="af5ef257-7cf6-4db3-b1ee-07d22d82bef1.htm">SQLServerException</a></p></div><h1 class="heading">Notes</h1><div id="languageReferenceRemarksSection" class="section" name="collapseableSection" style=""><p>Pour plus d'informations sur le diagnostic d'accès dans le journal des événements étendus, consultez <span sdata="link"><a href="a79e9468-2257-4536-91f1-73b008c376c3.htm">Accès aux informations de diagnostic dans le journal des événements étendus</a></span>.</p><p>L'exemple suivant montre comment obtenir l'ID de connexion :</p><div class="sampleCode"><span codeLanguage="other"><pre>Connection con = DriverManager.getConnection(connectionUrl);
UUID id = ((ISQLServerConnection)con).getClientConnectionId();</pre></span></div><p>L'exemple suivant montre une autre façon d'obtenir l'ID de connexion :</p><div class="sampleCode"><span codeLanguage="other"><pre>SQLServerConnectionPoolDataSource ds = new SQLServerConnectionPoolDataSource();
ds.setUser("…");
ds.setPassword("…");
ds.setServerName("…");
PooledConnection pcon= ds.getPooledConnection();
Connection cn = pcon.getConnection();
UUID conid = ((ISQLServerConnection)cn).getClientConnectionId();</pre></span></div><p><span sdata="langKeyword" value="getClientConnectionID"><span class="keyword">getClientConnectionID</span></span> fonctionne indépendamment de la version du serveur à laquelle vous vous connectez, mais les erreurs des journaux d'événements étendus et de la mémoire tampon de l'anneau de connectivité ne seront pas incluses dans SQL Server 2008 R2 et les versions précédentes.</p><p>Vous pouvez également localiser l'ID de connexion dans le journal des événements étendus si l'échec concerne le serveur et si l'événement étendu permet l'enregistrement de l'ID de connexion. Vous pouvez également trouver l'ID de connexion dans la mémoire tampon de l'anneau de connectivité (<a href="http://go.microsoft.com/fwlink/?LinkId=207752">Résolution des problèmes de connectivité dans SQL Server 2008 avec la mémoire tampon de l'anneau de connectivité</a>) pour certaines erreurs de connexion. Si l'ID de connexion n'est pas dans la mémoire tampon de l'anneau de connexion, vous pouvez supposer qu'il s'agit d'une erreur réseau.</p></div><span id="seeAlsoSpan"><h1 class="heading">Voir aussi</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="937292a6-1525-423e-a2b2-a18fd34c2893.htm">Classe SQLServerConnection</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="3115a533-756b-4c78-aee9-4ba7253c85e0.htm">Membres de SQLServerConnection</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Envoyez vos <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dMerci pour vos commentaires qui permettent aux équipes chargées de rédiger la documentation développeur d\'en améliorer la qualité. Pendant la révision de vos commentaires, il est possible que nous vous contactions par courrier électronique afin de vous demander des éclaircissements ou d\'autres commentaires sur la solution envisagée. Nous n\'utilisons pas votre adresse de messagerie dans un autre but et nous la supprimons une fois notre révision terminée.%0\APour plus d\'informations sur les politiques de confidentialité de Microsoft, consultez http://privacy.microsoft.com/fr-fr/default.aspx.%0\A%0\d','Commentaires client.');">commentaires</a> sur cette rubrique à Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Tous droits réservés.</a></p></span></div></div></body></html>