<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Utilisation d'un regroupement de connexions</title><meta name="Language" content="fr-fr" /><meta name="System.Keywords" content="regroupement de connexions" /><meta name="Microsoft.Help.Id" content="699d4e8a-34bf-4c60-b0d5-4a10dad6084a" /><meta name="Description" content="Le Pilote JDBC Microsoft pour SQL Server prend en charge le regroupement de connexions Java EE (Java Platform, Enterprise Edition). Le pilote JDBC implémente les interfaces JDBC 3." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Utilisation d'un regroupement de connexions</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Le Pilote JDBC Microsoft pour SQL Server prend en charge le regroupement de connexions Java EE (Java Platform, Enterprise Edition). Le pilote JDBC implémente les interfaces JDBC 3.0 requises pour permettre au pilote de participer aux implémentations de regroupements de connexions fournies par des fournisseurs d'intergiciels (middleware) et compatibles JDBC 3.0. Des intergiciels (middleware) tels que des serveurs d'applications Java EE offrent souvent des fonctionnalités de regroupement de connexions compatibles. Le pilote JDBC prendra part à des connexions regroupées dans ces environnements. </p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Même si le pilote JDBC prend en charge la fonctionnalité de regroupement de connexions Java EE, il ne fournit pas sa propre implémentation de regroupement. Le pilote recourt à des serveurs d'applications Java tiers pour gérer les connexions.</p></div></div><h1 class="heading">Notes</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Les classes pour l'implémentation du regroupement de connexions sont les suivantes.</p><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p>Classe</p></th><th><p>Implémentation</p></th><th><p>Description</p></th></tr><tr><td><p>com.microsoft.sqlserver.jdbc.SQLServerXADataSource</p></td><td><p>javax.sql.ConnectionPoolDataSource et javax.sql.XADataSource</p></td><td><p>Il est recommandé d'utiliser la classe <a href="95fc7b07-2498-4a7e-8f7f-ee0d86b598b4.htm">SQLServerXADataSource</a> pour tous les besoins de serveur Java EE, car elle implémente l'ensemble des regroupements JDBC 3.0 et des interfaces XA.</p></td></tr><tr><td><p>com.microsoft.sqlserver.jdbc.SQLServerConnectionPoolDataSource</p></td><td><p>javax.sql.ConnectionPoolDataSource</p></td><td><p>Cette classe est une fabrique de connexions qui permet au serveur d'applications Java EE de peupler son regroupement de connexions à l'aide de connexions physiques. Si la configuration du fournisseur de Java EE requiert une classe implémentant javax.sql.ConnectionPoolDataSource, définissez le nom de classe comme <a href="b00e5a90-2af7-4d04-8ef8-256183777dcf.htm">SQLServerConnectionPoolDataSource</a>. En règle générale, il est recommandé d'utiliser plutôt la classe <a href="95fc7b07-2498-4a7e-8f7f-ee0d86b598b4.htm">SQLServerXADataSource</a>, car elle implémente le regroupement et les interfaces XA ; par ailleurs, elle a été vérifiée dans davantage de configurations de serveur Java EE.</p></td></tr></table></div><p>Le code d'application JDBC doit toujours fermer les connexions de façon explicite afin de profiter au maximum du regroupement. Si l'application ferme explicitement une connexion, l'implémentation du regroupement peut réutiliser la connexion immédiatement. Si la connexion n'est pas fermée, d'autres applications ne peuvent pas la réutiliser. Des applications peuvent utiliser la construction <span class="code"> finally </span> pour s'assurer que les connexions regroupées sont fermées même en cas d'exception. </p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Le pilote JDBC n'appelle pas actuellement la procédure stockée sp_reset_connection lorsqu'il retourne la connexion au regroupement. Au lieu de cela, le pilote recourt à des serveurs d'applications Java tiers pour rétablir les connexions à leur état original.</p></div></div><span id="seeAlsoSpan"><h1 class="heading">Voir aussi</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="94bcfbe3-f00e-4774-bda8-bb7577518fec.htm">Connexion à SQL Server à l'aide du pilote JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Envoyez vos <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dMerci pour vos commentaires qui permettent aux équipes chargées de rédiger la documentation développeur d\'en améliorer la qualité. Pendant la révision de vos commentaires, il est possible que nous vous contactions par courrier électronique afin de vous demander des éclaircissements ou d\'autres commentaires sur la solution envisagée. Nous n\'utilisons pas votre adresse de messagerie dans un autre but et nous la supprimons une fois notre révision terminée.%0\APour plus d\'informations sur les politiques de confidentialité de Microsoft, consultez http://privacy.microsoft.com/fr-fr/default.aspx.%0\A%0\d','Commentaires client.');">commentaires</a> sur cette rubrique à Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Tous droits réservés.</a></p></span></div></div></body></html>